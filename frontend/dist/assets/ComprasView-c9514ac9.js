import{_ as d,r as p,o as n,c as r,a as t,F as _,b as h,d as m,w as b,t as s,f,p as g,g as C}from"./index-a73b683f.js";const y={name:"ComprasView",data(){return{productos:[]}},methods:{async obtener_productos(){let o={usuario:this.$store.state.mi_usuario};await fetch("https://n9h5lbsqu4.execute-api.us-east-1.amazonaws.com/prod/tienda",{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify(o)}).then(a=>a.json()).then(a=>this.productos=a)},async comprar(o,a){let l={codigo_producto:o,usuario_comprador:this.$store.state.mi_usuario,usuario_vendedor:a,tenant_id:"UTEC_SHOP"};await fetch("https://n9h5lbsqu4.execute-api.us-east-1.amazonaws.com/prod/register_compra",{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify(l)}),alert("Producto comprado"),this.$router.push("/productos")}},created(){this.obtener_productos()}},v=o=>(g("data-v-197147f3"),o=o(),C(),o),w={class:"global"},S={class:"compras"},k=v(()=>t("thead",null,[t("tr",null,[t("th",null,"Código"),t("th",null,"Vendedor"),t("th",null,"Nombre"),t("th",null,"Precio"),t("th",null,"Marca"),t("th",null,"Categoría"),t("th")])],-1)),x=["onClick"];function V(o,a,l,N,c,i){const u=p("router-link");return n(),r("div",w,[t("div",S,[t("table",null,[k,t("tbody",null,[(n(!0),r(_,null,h(c.productos,e=>(n(),r("tr",{key:e.codigo},[t("td",null,s(e.codigo),1),t("td",null,s(e.usuario_nombre),1),t("td",null,s(e.nombre),1),t("td",null,"S/ "+s(e.precio),1),t("td",null,s(e.marca),1),t("td",null,s(e.tipo),1),t("td",null,[t("button",{class:"comprar-button",onClick:$=>i.comprar(e.codigo,e.usuario_nombre)},"Comprar",8,x)])]))),128))])])]),t("nav",null,[m(u,{to:"/home",class:"casa-link"},{default:b(()=>[f("Casa")]),_:1})])])}const P=d(y,[["render",V],["__scopeId","data-v-197147f3"]]);export{P as default};
